function getFileKey(e){const n=document.createElement("a");return n.href=e,n.pathname.replace("/file/","").replace(/\/.*/,"")}function getNodeId(e){const n=document.createElement("a");return n.href=e,decodeURIComponent(n.search).replace("?node-id=","")}function apiRequest(e){return fetch("https://api.figma.com/v1"+e,{method:"GET",headers:{"x-figma-token":PERSONAL_ACCESS_TOKEN}}).then(function(e){return e.json()}).catch(function(e){return{err:e}})}function addImageToCanvas(e){stopProgress();const n=new Image;n.src=e,n.onload=function(){imagesAndCoord.forEach(function(e){const t=document.getElementById(e.canvasName),a=t.getContext("2d");new html5jp.perspective(a,n).draw(e.coords)})}}function callFigmaAndDrawMockups(){startProgress();const e=document.getElementById("url_input").value,n=getNodeId(e);apiRequest("/images/"+getFileKey(e)+"?ids="+n).then(function(e){addImageToCanvas(e.images[n])})}const imagesAndCoord=[{canvasName:"canvas",coords:[[650,134],[794,161],[656,441],[514,402]]},{canvasName:"canvas_2",coords:[[777,172],[871,266],[518,477],[461,362]]},{canvasName:"canvas_3",coords:[[304,134],[549,147],[550,567],[312,578]]}],PERSONAL_ACCESS_TOKEN=MY_FIGMA_TOKEN;var acc=document.getElementsByClassName("top-level"),i;for(i=0;i<acc.length;i++)acc[i].addEventListener("click",function(){this.classList.toggle("active")});
//# sourceMappingURL=./scripts-min.js.map